//
//  _RequestBuilder+Configuration.swift
//  Request
//
//  Created by Bradley Hilton on 2/6/16.
//  Copyright Â© 2016 Brad Hilton. All rights reserved.
//

import Foundation

extension _RequestBuilder {
    
    private func modify(handler: (inout Configuration) -> ()) -> Self {
        return modify { (inout request: Request) in handler(&request.configuration) }
    }
    
    public func cachePolicy(cachePolicy: NSURLRequestCachePolicy) -> Self {
        return modify { (inout config: Configuration) in config.cachePolicy = cachePolicy }
    }
    
    public func timeoutInterval(timeoutInterval: NSTimeInterval) -> Self {
        return modify { (inout config: Configuration) in config.timeoutInterval = timeoutInterval }
    }
    
    public func networkServiceType(networkServiceType: NSURLRequestNetworkServiceType) -> Self {
        return modify { (inout config: Configuration) in config.networkServiceType = networkServiceType }
    }
    
    public func allowsCellularAccess(allowsCellularAccess: Bool) -> Self {
        return modify { (inout config: Configuration) in config.allowsCellularAccess = allowsCellularAccess }
    }
    
    public func connectionProxyDictionary(connectionProxyDictionary: [NSObject : AnyObject]?) -> Self {
        return modify { (inout config: Configuration) in config.connectionProxyDictionary = connectionProxyDictionary }
    }
    
    public func TLSMinimumSupportedProtocol(TLSMinimumSupportedProtocol: SSLProtocol) -> Self {
        return modify { (inout config: Configuration) in config.TLSMinimumSupportedProtocol = TLSMinimumSupportedProtocol }
    }
    
    public func TLSMaximumSupportedProtocol(TLSMaximumSupportedProtocol: SSLProtocol) -> Self {
        return modify { (inout config: Configuration) in config.TLSMaximumSupportedProtocol = TLSMaximumSupportedProtocol }
    }
    
    public func shouldUsePipelining(shouldUsePipelining: Bool) -> Self {
        return modify { (inout config: Configuration) in config.shouldUsePipelining = shouldUsePipelining }
    }
    
    public func shouldSetCookies(shouldSetCookies: Bool) -> Self {
        return modify { (inout config: Configuration) in config.shouldSetCookies = shouldSetCookies }
    }
    
    public func cookieAcceptPolicy(cookieAcceptPolicy: NSHTTPCookieAcceptPolicy) -> Self {
        return modify { (inout config: Configuration) in config.cookieAcceptPolicy = cookieAcceptPolicy }
    }
    
    public func maximumConnectionsPerHost(maximumConnectionsPerHost: Int) -> Self {
        return modify { (inout config: Configuration) in config.maximumConnectionsPerHost = maximumConnectionsPerHost }
    }
    
    public func cookieStorage(cookieStorage: NSHTTPCookieStorage?) -> Self {
        return modify { (inout config: Configuration) in config.cookieStorage = cookieStorage }
    }
    
    public func credentialStorage(credentialStorage: NSURLCredentialStorage) -> Self {
        return modify { (inout config: Configuration) in config.credentialStorage = credentialStorage }
    }
    
    public func cache(cache: NSURLCache?) -> Self {
        return modify { (inout config: Configuration) in config.cache = cache }
    }
    
    public func protocolClasses(protocolClasses: [AnyClass]?) -> Self {
        return modify { (inout config: Configuration) in config.protocolClasses = protocolClasses }
    }
    
}